SET ECHO ON
DROP TABLE INTERPRETES
/
DROP TABLE CHANSONS
/
DROP TABLE AUTEURS
/
DROP TABLE CHANTEURS
/
DROP TABLE COMPOSITEURS
/
CREATE TABLE AUTEURS(
ID		INTEGER         NOT NULL,
NOM     VARCHAR(80)     NOT NULL,
PRIMARY KEY (ID)
)
/
CREATE TABLE COMPOSITEURS(
ID		INTEGER         NOT NULL,
NOM     VARCHAR(80)     NOT NULL,
PRIMARY KEY (ID)
)
/
CREATE TABLE CHANTEURS(
ID 			INTEGER			NOT NULL,
NOM			VARCHAR(80)		NOT NULL,
PRIMARY KEY (ID)
)
/
CREATE TABLE CHANSONS(
ID				INTEGER		NOT NULL,
TITRE			VARCHAR(80)	NOT NULL,
ANNEE			INTEGER		NOT NULL,
SCORE			NUMERIC		NOT NULL 
CHECK (SCORE >= 0 AND SCORE <= 10),
NBVOTANT		INTEGER		DEFAULT 0 NOT NULL
CHECK (NBVOTANT >= 0),
IDAUTEUR		INTEGER		NOT NULL,
IDCOMPOSITEUR	INTEGER		NOT NULL,
PRIMARY KEY (ID),
FOREIGN KEY (IDAUTEUR) REFERENCES AUTEURS(ID),
FOREIGN KEY (IDCOMPOSITEUR) REFERENCES COMPOSITEURS(ID)
)
/
CREATE TABLE INTERPRETES(
IDCHANSON	INTEGER		NOT NULL,
IDCHANTEUR	INTEGER		NOT NULL,
RANG		INTEGER		NOT NULL,
PRIMARY KEY (IDCHANSON, IDCHANTEUR),
FOREIGN KEY (IDCHANSON) REFERENCES CHANSONS(ID),
FOREIGN KEY (IDCHANTEUR) REFERENCES CHANTEURS(ID)
)
/
INSERT INTO AUTEURS
	VALUES(1,'AUTEUR 1')
/
INSERT INTO AUTEURS
	VALUES(2,'AUTEUR 2')
/
INSERT INTO AUTEURS
	VALUES(3,'AUTEUR 3')
/
INSERT INTO AUTEURS
	VALUES(4,'AUTEUR 4')
/
INSERT INTO AUTEURS
	VALUES(5,'AUTEUR 5')
/
INSERT INTO AUTEURS
	VALUES(6,'AUTEUR 6')
/
INSERT INTO AUTEURS
	VALUES(7,'AUTEUR 7')
/
INSERT INTO AUTEURS
	VALUES(8,'AUTEUR 8')
/
INSERT INTO AUTEURS
	VALUES(9,'AUTEUR 9')
/
INSERT INTO CHANTEURS
	VALUES(1,'CHANTEUR 1')
/
INSERT INTO CHANTEURS
	VALUES(2,'CHANTEUR 2')
/
INSERT INTO CHANTEURS
	VALUES(3,'CHANTEUR 3')
/
INSERT INTO CHANTEURS
	VALUES(4,'CHANTEUR 4')
/
INSERT INTO CHANTEURS
	VALUES(5,'CHANTEUR 5')
/
INSERT INTO CHANTEURS
	VALUES(6,'CHANTEUR 6')
/
INSERT INTO CHANTEURS
	VALUES(7,'CHANTEUR 7')
/
INSERT INTO CHANTEURS
	VALUES(8,'CHANTEUR 8')
/
INSERT INTO CHANTEURS
	VALUES(9,'CHANTEUR 9')
/
INSERT INTO COMPOSITEURS
	VALUES(1,'COMPOSITEUR 1')
/
INSERT INTO COMPOSITEURS
	VALUES(2,'COMPOSITEUR 2')
/
INSERT INTO COMPOSITEURS
	VALUES(3,'COMPOSITEUR 3')
/
INSERT INTO COMPOSITEURS
	VALUES(4,'COMPOSITEUR 4')
/
INSERT INTO COMPOSITEURS
	VALUES(5,'COMPOSITEUR 5')
/
INSERT INTO COMPOSITEURS
	VALUES(6,'COMPOSITEUR 6')
/
INSERT INTO COMPOSITEURS
	VALUES(7,'COMPOSITEUR 7')
/
INSERT INTO COMPOSITEURS
	VALUES(8,'COMPOSITEUR 8')
/
INSERT INTO COMPOSITEURS
	VALUES(9,'COMPOSITEUR 9')
/
INSERT INTO CHANSONS
	VALUES(1,'CHANSON 1', 1990, 9, 21, 1, 1)
/
INSERT INTO CHANSONS
	VALUES(2,'CHANSON 2', 1990, 8.7, 27, 1, 2)
/
INSERT INTO CHANSONS
	VALUES(3,'CHANSON 3', 1992, 3.6, 30, 1, 3)
/
INSERT INTO CHANSONS
	VALUES(4,'CHANSON 4', 1991, 4.1, 13, 2, 1)
/
INSERT INTO CHANSONS
	VALUES(5,'CHANSON 5', 1994, 10, 45, 2, 2)
/
INSERT INTO CHANSONS
	VALUES(6,'CHANSON 6', 1995, 9.9, 21, 2, 3)
/
INSERT INTO CHANSONS
	VALUES(7,'CHANSON 7', 1996, 7.7, 71, 3, 1)
/
INSERT INTO CHANSONS
	VALUES(8,'CHANSON 8', 2000, 6.8, 1, 3, 2)
/
INSERT INTO CHANSONS
	VALUES(9,'CHANSON 9', 2001, 8.6, 100, 3, 3)
/
INSERT INTO CHANSONS
	VALUES(10,'CHANSON 10', 2002, 4.6, 21, 4, 4)
/
INSERT INTO CHANSONS
	VALUES(11,'CHANSON 11', 2003, 0, 99, 4, 5)
/
INSERT INTO CHANSONS
	VALUES(12,'CHANSON 12', 1990, 5.7, 4, 5, 4)
/
INSERT INTO CHANSONS
	VALUES(13,'CHANSON 13', 2005, 6.6, 27, 5, 1)
/
INSERT INTO CHANSONS
	VALUES(14,'CHANSON 14', 2006, 9.6, 26, 1, 4)
/
INSERT INTO CHANSONS
	VALUES(15,'CHANSON 15', 2007, 10, 41, 1, 3)
/
INSERT INTO CHANSONS
	VALUES(16,'CHANSON 16', 2008, 4.3, 11, 1, 1)
/
INSERT INTO CHANSONS
	VALUES(17,'CHANSON 17', 2009, 9.8, 2, 1, 1)
/
INSERT INTO INTERPRETES
	VALUES(1, 1, 1)
/
INSERT INTO INTERPRETES
	VALUES(1, 2, 2)
/
INSERT INTO INTERPRETES
	VALUES(1, 3, 4)
/
INSERT INTO INTERPRETES
	VALUES(1, 4, 3)
/
INSERT INTO INTERPRETES
	VALUES(2, 1, 1)
/
INSERT INTO INTERPRETES
	VALUES(3, 2, 1)
/
INSERT INTO INTERPRETES
	VALUES(3, 3, 2)
/
INSERT INTO INTERPRETES
	VALUES(4, 1, 2)
/
INSERT INTO INTERPRETES
	VALUES(4, 3, 1)
/
INSERT INTO INTERPRETES
	VALUES(5, 9, 1)
/
INSERT INTO INTERPRETES
	VALUES(5, 7, 2)
/
INSERT INTO INTERPRETES
	VALUES(5, 5, 3)
/
INSERT INTO INTERPRETES
	VALUES(5, 3, 4)
/